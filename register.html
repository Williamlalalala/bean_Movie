
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta property="wb:webmaster" content="572c54c2cc00c6fb" />
    <meta name="referrer" content="always">
    
    <title>
欢迎加入思沃影院
</title>
    

<style>
html{color:#111;background:#fff}body,div,dl,dt,dd,ul,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,blockquote,p{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}address,caption,cite,code,dfn,em,i,strong,th,var,optgroup{font-style:normal;font-weight:normal}ul,ol{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}q:before,q:after{content:""}abbr,acronym{border:0;font-variant:normal}sup{vertical-align:baseline}sub{vertical-align:baseline}legend{color:#000}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit}input,button,textarea,select{*font-size:100%}pre{white-space:pre-wrap;word-wrap:break-word}a{cursor:pointer}a:link{color:#369;text-decoration:none}a:visited{color:#669;text-decoration:none}a:hover{color:#fff;text-decoration:none;background:#039}a:active{color:#fff;text-decoration:none;background:#f93}a img{border-width:0;vertical-align:middle}body,td,th{font:12px Helvetica,Arial,sans-serif;line-height:1.62}table{border-collapse:collapse;border:none;padding:0;margin:0}wbr:after{content:"\00200B"}textarea{resize:none}input[type=text]:focus,input[type=password]:focus,input[type=tel]:focus,textarea:focus{outline:none}body{-webkit-text-size-adjust:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}.bn-small,a.bn-cta,.bn-cta input,.bn-flat input{margin:0;border:none;background:transparent;cursor:pointer;-webkit-appearance:none}.lnk-flat,.bn-flat{display:inline-block;*display:inline;zoom:1;overflow:hidden;vertical-align:middle;color:#444;border-width:1px;border-style:solid;border-color:#bbb #bbb #999;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.lnk-flat,.bn-flat input{height:2.1em;padding:0 1.16em 2px;line-height:2.2;*line-height:2.3;font-size:12px;cursor:pointer;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background:url(https://img3.doubanio.com/f/accounts/23850eee993fea8be43be857dcbaa23961de56aa/pics/bn_ie_bg.png) repeat-x top;background-image:-webkit-gradient(linear, left top, left bottom, from(#fcfcfc), to(#e9e9e9));background-image:-webkit-linear-gradient(top, #fcfcfc, #e9e9e9);background-image:-moz-linear-gradient(top, #fcfcfc, #e9e9e9);background-image:-ms-linear-gradient(top, #fcfcfc, #e9e9e9);background-image:-o-linear-gradient(top, #fcfcfc, #e9e9e9);background-image:linear-gradient(top, #fcfcfc, #e9e9e9)}.lnk-flat:hover,.bn-flat input:hover,.bn-flat-over{color:#333;border-color:#999 #999 #666;background-color:transparent;filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#f8f8f8', endColorstr='#dddddd',GradientType=0 );background-image:-webkit-gradient(linear, left top, left bottom, from(#f8f8f8), to(#ddd));background-image:-webkit-linear-gradient(top, #f8f8f8, #ddd);background-image:-moz-linear-gradient(top, #f8f8f8, #ddd);background-image:-ms-linear-gradient(top, #f8f8f8, #ddd);background-image:-o-linear-gradient(top, #f8f8f8, #ddd);background-image:linear-gradient(top, #f8f8f8, #ddd)}.lnk-flat:active,.bn-flat input:active,.bn-flat-active input{color:#333;border-color:#999 #999 #666;background:#ddd}.lnk-flat{line-height:2.2em}.lnk-flat:link,.lnk-flat:visited{text-decoration:none}a.bn-cta,.bn-cta input{display:inline-block;padding:4px 20px;border:1px solid #528641;background:#3fa156;color:#fff;font-size:14px;letter-spacing:2px;*position:relative;*display:inline;zoom:1;*padding:6px 20px 4px;*line-height:1.2;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}a.bn-cta{vertical-align:middle}.bn-cta input{padding:5px 18px;*padding:4px 10px 2px;*vertical-align:middle}a.bn-cta:link,a.bn-cta:visited{color:#fff}.bn-cta input:hover,a.bn-cta:hover{background-color:#4fca6c;border-color:#6aad54}.bn-cta input:active,a.bn-cta:active{background-color:#3fa156;border-color:#528641}.bn-small{padding:1px 2px;border:1px solid #ffabab;color:#ff7676;background:#ffdddd;height:1.5em\9;line-height:1.56;*line-height:1.4;*position:relative;-webkit-appearance:none;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}a.bn-small:link,a.bn-small:visited,a.bn-small:hover,a.bn-small:active{padding:0 4px;line-height:1.8;font-size:12px;*line-height:1.3;zoom:1;*height:13px;*overflow:hidden;color:#ff7676;background:#ffdddd}a.bn-small:hover,a.bn-small:active{border-color:#ff7676;background-color:#ff7676;color:#ffdddd}.recsubmit .bn-flat{margin:0 10px}.basic-input,.basic-textarea{padding:5px;height:18px;font-size:14px;vertical-align:middle;border:1px solid #c9c9c9;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.basic-input:focus,.basic-textarea:focus{border:1px solid #a9a9a9}.disabled-input{background:#eee;color:#999}.basic-textarea{height:auto}ul,ol{margin:0;padding:0}.wrapper,.header,.footer{width:950px;margin:0 auto 40px;overflow:hidden;zoom:1}.header{margin-bottom:40px}.article{float:left;width:590px;margin-right:50px}.aside{color:#666;overflow:hidden;zoom:1}.aside h2{font-size:15px;color:#072;margin:0 0 12px 0;line-height:150%}.single-nav{padding-top:30px}.sidenav{margin-top:1em}.sidenav li{margin-bottom:1em}h1{display:block;margin:0;padding:0 0 15px 0;font-size:25px;font-weight:bold;color:#494949;line-height:1.1}p{margin:1em 0}.site-nav-logo a:hover{background:none}

</style>

<style>
a { color: #336699 }
em { font-style: normal }
form { position: relative; left: 0; top: 0 }
.hide {display: none;}
.item { clear:both;margin: 15px 0 }
.item-error { margin-left: 75px; color: #fe2617 }
.suggestion { padding-left: 75px }
.article { padding-bottom: 1em; }
label { display: inline-block; float:left; margin-right: 15px; text-align: right; width: 60px; font-size: 14px; line-height: 30px; vertical-align: middle }
.box { margin-left: 75px }
.basic-input { width: 200px; padding: 5px; height: 18px; font-size: 14px; -moz-border-radius: 3px; -webkit-border-radius: 3px; border-radius: 3px; border: 1px solid #c9c9c9 }
.item .basic-input:focus { border: 1px solid #a9a9a9 }
.validate-option { display: none; color: #808080 }
.validate-error { display: none; color: #fe2617 }
p.validate-error { margin-left: 75px }
.loc-item .validate-error { line-height: 30px }
.extra-tips .validate-error , .extra-tips .validate-option { padding-left: 10px; background: url(https://img3.doubanio.com/f/shire/49ede118d7ddeccdbb53cc2bc36248fb36ab6eae/pics/icon/tips_arrow.gif) no-repeat}
.extra-tips .validate-error { background-position: left -52px }
.extra-tips .validate-option { background-position: left 4px }
.loc { font-size: 12px; line-height: 30px }
.tips , #location { font-size: 12px; color: #808080 }
#location strong { color: #111111; font-weight: normal }
.captcha-item span.validate-error { padding-left: 10px; background: url(https://img3.doubanio.com/f/shire/49ede118d7ddeccdbb53cc2bc36248fb36ab6eae/pics/icon/tips_arrow.gif) no-repeat left -52px ; display: none }
.captcha-img { margin: 2px 6px 0 0; vertical-align: top }
.captcha-item .basic-input { width: 95px }
.captcha-item { zoom: 1 }
/* .captcha-item .captcha {margin-left: 75px;} */
#email_suggestion { display: inline-block; position: absolute; left: 75px; top: 30px; _left: 0px }
#email_suggestion p { background: #eef9eb; border: 1px solid #5e5e5f; margin: 0; padding: 3px }
.btn-submit { cursor: pointer; font-size: 14px; font-weight: bold; padding: 6px 26px; border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; *width: 100px }
.disabled { color: #999; background: #f0f0f0; border: 1px solid #b9b9b9 }
.enabled { color: #ffffff; background: #3fa156; border: 1px solid #528641 }
.item-submit {margin-top: 25px;}
.device-mobile .captcha-img { display:block;max-width:60%; }
.device-mobile .captcha-item p { margin-bottom:1em; }
.device-mobile .item-submit { margin-bottom:2em;  }

#request-phone-code-btn { cursor: pointer;background: #fff;border: 1px solid #c9c9c9;font-size: 13px;padding: 6px 15px;border-radius: 3px;-moz-border-radius: 3px;-webkit-border-radius: 3px;vertical-align: middle; }

#captcha_dialog input[name="captcha-solution"]{padding:5px;width:238px;height:25px;border:1px solid #c9c9c9;border-radius:3px;vertical-align:middle;font-size:22px}#captcha_dialog input[type="button"]{height:2.1em;padding:0 1.16em 2px;border:1px solid #c9c9c9;border-radius:3px;background:transparent}#captcha_dialog input#captcha{width:200px}#captcha_dialog .captcha-img{width:210px;cursor:pointer;margin:0}#captcha_dialog .bd{text-align:center}#captcha_dialog .ft .bn-flat input{font-weight:bold;margin:0}

.flag{position:absolute;text-indent:-999em;padding:0 !important;margin:0 10px 0 0;width:16px;height:11px;background:url(https://img3.doubanio.com/f/accounts/e999a57742934945b3b9457911963b236c6f23e6/pics/national_flags.png) no-repeat}.flag.ad{background-position:0 0}.flag.ae{background-position:0 -11px}.flag.af{background-position:0 -22px}.flag.ag{background-position:0 -33px}.flag.ai{background-position:0 -44px}.flag.al{background-position:0 -55px}.flag.am{background-position:0 -66px}.flag.an{background-position:0 -77px}.flag.ao{background-position:0 -88px}.flag.ar{background-position:0 -99px}.flag.as{background-position:0 -110px}.flag.at{background-position:0 -121px}.flag.au{background-position:0 -132px}.flag.aw{background-position:0 -143px}.flag.ax{background-position:0 -154px}.flag.az{background-position:0 -165px}.flag.ba{background-position:0 -176px}.flag.bb{background-position:0 -187px}.flag.bd{background-position:0 -198px}.flag.be{background-position:0 -209px}.flag.bf{background-position:0 -220px}.flag.bg{background-position:0 -231px}.flag.bh{background-position:0 -242px}.flag.bi{background-position:0 -253px}.flag.bj{background-position:0 -264px}.flag.bm{background-position:0 -275px}.flag.bn{background-position:0 -286px}.flag.bo{background-position:0 -297px}.flag.br{background-position:0 -308px}.flag.bs{background-position:0 -319px}.flag.bt{background-position:0 -330px}.flag.bv{background-position:0 -341px}.flag.bw{background-position:0 -352px}.flag.by{background-position:0 -363px}.flag.bz{background-position:0 -374px}.flag.ca{background-position:0 -385px}.flag.catalonia{background-position:0 -396px}.flag.cc{background-position:0 -407px}.flag.cd{background-position:0 -418px}.flag.cf{background-position:0 -429px}.flag.cg{background-position:0 -440px}.flag.ch{background-position:0 -451px}.flag.ci{background-position:0 -462px}.flag.ck{background-position:0 -473px}.flag.cl{background-position:0 -484px}.flag.cm{background-position:0 -495px}.flag.cn{background-position:0 -506px}.flag.co{background-position:0 -517px}.flag.cu{background-position:0 -528px}.flag.cr{background-position:0 -539px}.flag.cs{background-position:0 -550px}.flag.cv{background-position:0 -561px}.flag.cx{background-position:0 -572px}.flag.cy{background-position:-16px 0}.flag.cz{background-position:-16px -11px}.flag.de{background-position:-16px -22px}.flag.dj{background-position:-16px -33px}.flag.dk{background-position:-16px -44px}.flag.dm{background-position:-16px -55px}.flag.do{background-position:-16px -66px}.flag.dz{background-position:-16px -77px}.flag.ec{background-position:-16px -88px}.flag.ee{background-position:-16px -99px}.flag.eg{background-position:-16px -110px}.flag.eh{background-position:-16px -121px}.flag.england{background-position:-16px -132px}.flag.er{background-position:-16px -143px}.flag.es{background-position:-16px -154px}.flag.et{background-position:-16px -165px}.flag.eu{background-position:-16px -176px}.flag.fam{background-position:-16px -187px}.flag.fi{background-position:-16px -198px}.flag.fj{background-position:-16px -209px}.flag.fk{background-position:-16px -220px}.flag.fm{background-position:-16px -231px}.flag.fo{background-position:-16px -242px}.flag.fr{background-position:-16px -253px}.flag.ga{background-position:-16px -264px}.flag.gb{background-position:-16px -275px}.flag.gd{background-position:-16px -286px}.flag.ge{background-position:-16px -297px}.flag.gf{background-position:-16px -308px}.flag.gh{background-position:-16px -319px}.flag.gi{background-position:-16px -330px}.flag.gl{background-position:-16px -341px}.flag.gm{background-position:-16px -352px}.flag.gn{background-position:-16px -363px}.flag.gp{background-position:-16px -374px}.flag.gq{background-position:-16px -385px}.flag.gr{background-position:-16px -396px}.flag.gs{background-position:-16px -407px}.flag.gt{background-position:-16px -418px}.flag.gu{background-position:-16px -429px}.flag.gw{background-position:-16px -440px}.flag.gy{background-position:-16px -451px}.flag.hk{background-position:-16px -462px}.flag.hm{background-position:-16px -473px}.flag.hn{background-position:-16px -484px}.flag.hr{background-position:-16px -495px}.flag.ht{background-position:-16px -506px}.flag.hu{background-position:-16px -517px}.flag.id{background-position:-16px -528px}.flag.ie{background-position:-16px -539px}.flag.il{background-position:-16px -550px}.flag.in{background-position:-16px -561px}.flag.io{background-position:-16px -572px}.flag.iq{background-position:-32px 0}.flag.ir{background-position:-32px -11px}.flag.is{background-position:-32px -22px}.flag.it{background-position:-32px -33px}.flag.jm{background-position:-32px -44px}.flag.jo{background-position:-32px -55px}.flag.jp{background-position:-32px -66px}.flag.ke{background-position:-32px -77px}.flag.kg{background-position:-32px -88px}.flag.kh{background-position:-32px -99px}.flag.ki{background-position:-32px -110px}.flag.km{background-position:-32px -121px}.flag.kn{background-position:-32px -132px}.flag.kp{background-position:-32px -143px}.flag.kr{background-position:-32px -154px}.flag.kw{background-position:-32px -165px}.flag.ky{background-position:-32px -176px}.flag.kz{background-position:-32px -187px}.flag.la{background-position:-32px -198px}.flag.lb{background-position:-32px -209px}.flag.lc{background-position:-32px -220px}.flag.li{background-position:-32px -231px}.flag.lr{background-position:-32px -242px}.flag.lk{background-position:-32px -253px}.flag.ls{background-position:-32px -264px}.flag.lt{background-position:-32px -275px}.flag.lu{background-position:-32px -286px}.flag.lv{background-position:-32px -297px}.flag.ly{background-position:-32px -308px}.flag.ma{background-position:-32px -319px}.flag.mc{background-position:-32px -330px}.flag.md{background-position:-32px -341px}.flag.me{background-position:-32px -352px}.flag.mg{background-position:-32px -363px}.flag.mh{background-position:-32px -374px}.flag.mk{background-position:-32px -385px}.flag.ml{background-position:-32px -396px}.flag.mm{background-position:-32px -407px}.flag.mn{background-position:-32px -418px}.flag.mo{background-position:-32px -429px}.flag.mp{background-position:-32px -440px}.flag.mq{background-position:-32px -451px}.flag.mr{background-position:-32px -462px}.flag.ms{background-position:-32px -473px}.flag.mt{background-position:-32px -484px}.flag.mu{background-position:-32px -495px}.flag.mv{background-position:-32px -506px}.flag.mw{background-position:-32px -517px}.flag.mx{background-position:-32px -528px}.flag.my{background-position:-32px -539px}.flag.mz{background-position:-32px -550px}.flag.na{background-position:-32px -561px}.flag.nc{background-position:-32px -572px}.flag.ne{background-position:-48px 0}.flag.nf{background-position:-48px -11px}.flag.ng{background-position:-48px -22px}.flag.ni{background-position:-48px -33px}.flag.nl{background-position:-48px -44px}.flag.no{background-position:-48px -55px}.flag.np{background-position:-48px -66px}.flag.nr{background-position:-48px -77px}.flag.nu{background-position:-48px -88px}.flag.nz{background-position:-48px -99px}.flag.om{background-position:-48px -110px}.flag.pa{background-position:-48px -121px}.flag.pe{background-position:-48px -132px}.flag.pf{background-position:-48px -143px}.flag.pg{background-position:-48px -154px}.flag.ph{background-position:-48px -165px}.flag.pk{background-position:-48px -176px}.flag.pl{background-position:-48px -187px}.flag.pm{background-position:-48px -198px}.flag.pn{background-position:-48px -209px}.flag.pr{background-position:-48px -220px}.flag.ps{background-position:-48px -231px}.flag.pt{background-position:-48px -242px}.flag.pw{background-position:-48px -253px}.flag.py{background-position:-48px -264px}.flag.qa{background-position:-48px -275px}.flag.re{background-position:-48px -286px}.flag.ro{background-position:-48px -297px}.flag.rs{background-position:-48px -308px}.flag.ru{background-position:-48px -319px}.flag.rw{background-position:-48px -330px}.flag.sa{background-position:-48px -341px}.flag.sb{background-position:-48px -352px}.flag.sc{background-position:-48px -363px}.flag.scotland{background-position:-48px -374px}.flag.sd{background-position:-48px -385px}.flag.se{background-position:-48px -396px}.flag.sg{background-position:-48px -407px}.flag.sh{background-position:-48px -418px}.flag.si{background-position:-48px -429px}.flag.sj{background-position:-48px -440px}.flag.sk{background-position:-48px -451px}.flag.sl{background-position:-48px -462px}.flag.sm{background-position:-48px -473px}.flag.sn{background-position:-48px -484px}.flag.so{background-position:-48px -495px}.flag.sr{background-position:-48px -506px}.flag.st{background-position:-48px -517px}.flag.sv{background-position:-48px -528px}.flag.sy{background-position:-48px -539px}.flag.sz{background-position:-48px -550px}.flag.tc{background-position:-48px -561px}.flag.td{background-position:-48px -572px}.flag.tf{background-position:-64px 0}.flag.tg{background-position:-64px -11px}.flag.th{background-position:-64px -22px}.flag.tj{background-position:-64px -33px}.flag.tk{background-position:-64px -44px}.flag.tl{background-position:-64px -55px}.flag.tm{background-position:-64px -66px}.flag.tn{background-position:-64px -77px}.flag.to{background-position:-64px -88px}.flag.tr{background-position:-64px -99px}.flag.tt{background-position:-64px -110px}.flag.tv{background-position:-64px -121px}.flag.tw{background-position:-64px -132px}.flag.tz{background-position:-64px -143px}.flag.ua{background-position:-64px -154px}.flag.ug{background-position:-64px -165px}.flag.um{background-position:-64px -176px}.flag.us{background-position:-64px -187px}.flag.uy{background-position:-64px -198px}.flag.uz{background-position:-64px -209px}.flag.va{background-position:-64px -220px}.flag.vc{background-position:-64px -231px}.flag.ve{background-position:-64px -242px}.flag.vg{background-position:-64px -253px}.flag.vi{background-position:-64px -264px}.flag.vn{background-position:-64px -275px}.flag.vu{background-position:-64px -286px}.flag.wales{background-position:-64px -297px}.flag.wf{background-position:-64px -308px}.flag.ws{background-position:-64px -319px}.flag.ye{background-position:-64px -330px}.flag.yt{background-position:-64px -341px}.flag.za{background-position:-64px -352px}.flag.zm{background-position:-64px -363px}.flag.zw{background-position:-64px -374px}

.GlobalPhone{display:table;padding:0;height:28px;width:210px;font-size:0;position:relative}.GlobalPhone>*{font-size:14px;display:table-cell;vertical-align:top}.GlobalPhone>span,.GlobalPhone input{line-height:28px}.GlobalPhone>span{text-align:center;padding:0 7px;cursor:pointer;color:#494949;white-space:nowrap}.GlobalPhone>span:after{content:"";display:inline-block;height:15px;border-right:1px solid #ccc;vertical-align:middle;margin-left:7px}.GlobalPhone input[type="text"]{padding:0 7px 0 0;border:0;height:100%;width:100%;box-sizing:border-box}.GlobalPhone input[type="text"]:focus{border:0;outline:0}.GlobalPhone #verify_phone_err{position:absolute;left:100%;top:0;white-space:nowrap;margin-left:10px;line-height:28px;font-size:12px;color:#fe2617}.GlobalPhoneList li{text-align:justify;text-justify:distribute;-ms-text-justify:distribute;font-size:0}.GlobalPhoneList li>*{display:inline-block}.GlobalPhoneList li:after{content:"";width:100%;display:inline-block}.GlobalPhoneItem-district{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizelegibility}.GlobalPhoneDialog .bd{max-height:30em;overflow:auto !important}.GlobalPhoneList li{overflow:hidden;line-height:2.6;color:#494949;cursor:pointer;border-bottom:1px solid #e5e5e5}.GlobalPhoneList li:first-child{border-top:1px solid #e5e5e5}.GlobalPhoneList li>*{font-size:14px}.GlobalPhoneList li.is-active>*{color:#42bd56}.GlobalPhoneList li.is-active .GlobalPhoneItem-district:after{content:"✔︎";margin-left:10px}.GlobalPhoneItem-district{font-weight:bold}.GlobalPhoneItem-district span{font-size:1.5em;line-height:1;display:inline-block;vertical-align:middle;position:relative;margin-top:-2px}.GlobalPhoneItem-number{color:#aaa}

.agreement-content{padding:20px;background:#fff}.agreement-content a{color:#1E679E}.agreement-content a:hover{color:#fff}.agreement-content .content{height:280px;border:1px solid #ccc;padding:10px;overflow:auto;font-size:12px}.agreement-content .content p{padding:0;margin:0}.agreement-content h3{font-size:18px;font-weight:bold}.agreement-content h4{margin-top:12px;font-weight:bold}.agreement-content strong,.agreement-content .b{font-weight:bold}.agreement-btns{padding-top:20px;text-align:center;background:#fff}.agreement-btns .btn{display:inline-block;border-radius:5px;padding:10px 20px;color:#fff;cursor:pointer;background:#3BA94D}.agreement-btns .tips{color:#bdbdbd}.agreement-close{position:absolute;top:15px;right:15px}.agreement-close:hover{color:#369;background:none}

.GlobalPhone {display: inline-block;vertical-align: middle;}
.agreement-new {
  width: 800px;
  border-radius: 5px;
  padding: 10px;
  position: absolute;
  top: 120px;
  left: 50%;
  margin-left: -400px;
  background: rgba(0,0,0,0.2);
}
.agreement-btns {padding: 0 0 20px;}
</style>

    <style type="text/css">
#footer { color:#999;padding-top:6px;border-top: 1px dashed #ddd; }
.fright { float:right; }
.icp { float:left; }
</style>
    

  <script type="text/javascript" src="https://img3.doubanio.com/f/accounts/235752090cae6e105c6bb570481adfb4fcdc7b4e/js/lib/cookie.js"></script>
  <script type="text/javascript" src="https://img3.doubanio.com/f/accounts/c5268df4c1f0bada95cb3d2b80089a50b494b5ee/js/lib/jquery.min.js"></script>
  <script type="text/javascript" src="https://img3.doubanio.com/f/accounts/bbd909b4dd82f6e1c664380ff01325ec129436a1/js/lib/do.js" data-cfg-corelib="https://img3.doubanio.com/f/accounts/c5268df4c1f0bada95cb3d2b80089a50b494b5ee/js/lib/jquery.min.js"></script>

<script>
Do.add('dialog-css', {path: 'https://img3.doubanio.com/f/accounts/da76d5df52b4cb99cc31d3a9ec79f2916ec8f66b/css/ui/dialog.css', type: 'css'});
Do.add('dialog', {path: 'https://img3.doubanio.com/f/accounts/0d89968f657dd00590944957e19a943e13ecb266/js/ui/dialog.js', type: 'js', requires: ['dialog-css']});
Do.add('validate', {path: 'https://img3.doubanio.com/f/accounts/db03277ad60108f68cd03959ab549872398a5a69/js/lib/validate.js', type: 'js'});
</script>

    
  </head>
  <body>
    <div class="header">
      

            <div >
                    <img src="./picture/thoughtworkslogo.jpg" >
            </div>

    </div>
    
  <div class="wrapper">
    
<h1>
欢迎加入思沃影院
</h1>

    <div class="article">
      
    
    <form name="lzform" method="post" action="https://accounts.douban.com/register">
        <div style="display:none;">
            <input type="hidden" name="source" value="simple"/>
            <input type="hidden" name="redir" value="  "/>
            <img src="https://www.douban.com/pics/blank.gif" onerror="document.lzform.action='https://accounts.douban.com/register'"/>
        </div>
        <div class="item extra-tips">
            <label>邮箱</label>
            <input id="email" name="alias" type="text" class="basic-input" maxlength="60" tabindex="1" value=""/>
        </div>
        <div class="suggestion">
            <div id="email_suggestion"></div>
        </div>
        <div class="item extra-tips">
            <label>密码</label>
            <input id="password" name="password" type="password" class="basic-input" tabindex="2" maxlength="20"/>
        </div>
        <div class="item extra-tips">
            <label>昵称</label>
            <input id="name" name="name" type="text"
            class="basic-input" maxlength="15" tabindex="3" value=""/>
        </div>
        <div class="suggestion">
            <span class="tips">第一印象很重要，起个响亮的名号吧</span>
        </div>



        <div class="item-submit">
            <label>&nbsp;</label>
            <input type="submit" name="register" value="注册" id="button" class="btn-submit enabled" tabindex="6" title="阅读并同意豆瓣的《使用协议》方可注册。"/>
        </div>
    </form>
    

    </div>

    <div class="aside">
      
<ul class="sidenav">
  <li>&gt;&nbsp;已经拥有豆瓣帐号? <a rel="nofollow" href="/login">直接登录</a></li>
 
</ul>

    </div>
  </div>

    <div class="footer">
      
<div id="footer">


<span id="icp" class="fleft gray-link">
    &copy; 2005－2018 thoughtworks, all rights reserved
</span>




</div>

    </div>
    <!-- main -->
    <!-- COLLECTED JS -->
    
        


<script>




function displayError(el, msg) {
  var err = document.getElementById(el.name + '_err') || $(el).parents('.item').find('.validate-error')[0];
  if (!err) {
    err = document.createElement('span');
    err.id = el.name + '_err';
    err.className = 'error-tip validate-error';
    $(el).parents('.item').append(err);
  }
  err.style.display = 'inline';
  err.innerHTML = msg;
}


Do('validate','dialog',function(){
    function set_cookie(e,t,n,o){var i,r,c=new Date;c.setTime(c.getTime()+24*(t||30)*60*60*1e3),i="; expires="+c.toGMTString();for(r in e)document.cookie=r+"="+e[r]+i+"; domain="+(n||"douban.com")+"; path="+(o||"/")}function get_cookie(e){var t,n,o=e+"=",i=document.cookie.split(";");for(t=0;t<i.length;t++){for(n=i[t];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(o))return n.substring(o.length,n.length).replace(/\"/g,"")}return null}
    var REG={CN:/^(86){0,1}1\d{10}$/,TW:/^(00){0,1}(886){1}0{0,1}[6,7,9](?:\d{7}|\d{8}|\d{10})$/,HK:/^(00){0,1}(852){1}0{0,1}[1,5,6,9](?:\d{7}|\d{8}|\d{12})$/,MY:/^(00){0,1}(60){1}1\d{8,9}$/,SG:/^(00){0,1}(65){1}[13689]\d{6,7}$/,JP:/^(00){0,1}(81){1}0{0,1}[7,8,9](?:\d{8}|\d{9})$/,KR:/^(00){0,1}(82){1}0{0,1}[7,1](?:\d{8}|\d{9})$/,US:/^(00){0,1}(1){1}\d{10,12}$/,CA:/^(00){0,1}(1){1}\d{10}$/,AU:/^(00){0,1}(61){1}4\d{8,9}$/,NZ:/^(00){0,1}(64){1}[278]\d{7,9}$/,AL:/^(00){0,1}(355){1}\d{6,15}$/,AR:/^(00){0,1}(54){1}\d{6,12}$/,AE:/^(00){0,1}(971){1}\d{6,12}$/,OM:/^(00){0,1}(968){1}\d{6,15}$/,AZ:/^(00){0,1}(994){1}\d{6,15}$/,IE:/^(00){0,1}(353){1}\d{6,12}$/,EG:/^(00){0,1}(20){1}\d{6,12}$/,EE:/^(00){0,1}(372){1}\d{6,12}$/,AO:/^(00){0,1}(244){1}\d{6,15}$/,AT:/^(00){0,1}(43){1}\d{6,12}$/,MO:/^(00){0,1}(853){1}6\d{7}$/,PG:/^(00){0,1}(675){1}\d{6,15}$/,BS:/^(00){0,1}(1242){1}\d{6,12}$/,PS:/^(00){0,1}(970){1}\d{6,15}$/,BH:/^(00){0,1}(973){1}\d{6,15}$/,PA:/^(00){0,1}(507){1}\d{6,12}$/,BR:/^(00){0,1}(55){1}\d{6,12}$/,BY:/^(00){0,1}(375){1}\d{6,12}$/,BG:/^(00){0,1}(359){1}\d{6,12}$/,BJ:/^(00){0,1}(229){1}\d{6,15}$/,BE:/^(00){0,1}(32){1}\d{6,12}$/,PE:/^(00){0,1}(51){1}\d{6,12}$/,PL:/^(00){0,1}(48){1}\d{6,12}$/,BO:/^(00){0,1}(591){1}\d{6,15}$/,BZ:/^(00){0,1}(501){1}\d{6,12}$/,BF:/^(00){0,1}(226){1}\d{6,15}$/,GQ:/^(00){0,1}(240){1}\d{6,15}$/,DK:/^(00){0,1}(45){1}\d{6,12}$/,DE:/^(00){0,1}(49){1}1(\d{5,6}|\d{9,12})$/,TG:/^(00){0,1}(228){1}\d{6,15}$/,RU:/^(00){0,1}(7){1}[13489]\d{9,11}$/,FR:/^(00){0,1}(33){1}(\d{6}|\d{8,9})$/,PH:/^(00){0,1}(63){1}[24579](\d{7,9}|\d{12})$/,FI:/^(00){0,1}(358){1}\d{6,12}$/,CV:/^(00){0,1}(238){1}\d{6,15}$/,GM:/^(00){0,1}(220){1}\d{6,15}$/,GD:/^(00){0,1}(1473){1}\d{6,15}$/,GE:/^(00){0,1}(995){1}\d{6,15}$/,CO:/^(00){0,1}(57){1}\d{6,12}$/,CR:/^(00){0,1}(506){1}\d{6,15}$/,GY:/^(00){0,1}(592){1}\d{6,15}$/,NL:/^(00){0,1}(31){1}6\d{8}$/,HN:/^(00){0,1}(504){1}\d{6,15}$/,DJ:/^(00){0,1}(253){1}\d{6,15}$/,KG:/^(00){0,1}(996){1}\d{6,12}$/,GN:/^(00){0,1}(224){1}\d{6,15}$/,GW:/^(00){0,1}(245){1}\d{6,15}$/,GA:/^(00){0,1}(241){1}\d{6,15}$/,KH:/^(00){0,1}(855){1}\d{6,12}$/,ZW:/^(00){0,1}(263){1}\d{6,15}$/,CM:/^(00){0,1}(237){1}\d{6,15}$/,QA:/^(00){0,1}(974){1}\d{6,12}$/,KY:/^(00){0,1}(1345){1}\d{6,15}$/,HR:/^(00){0,1}(385){1}\d{6,15}$/,KM:/^(00){0,1}(269){1}\d{6,15}$/,KW:/^(00){0,1}(965){1}\d{6,15}$/,KE:/^(00){0,1}(254){1}\d{6,15}$/,LV:/^(00){0,1}(371){1}\d{6,15}$/,LS:/^(00){0,1}(266){1}\d{6,15}$/,LT:/^(00){0,1}(370){1}\d{6,12}$/,LU:/^(00){0,1}(352){1}\d{6,12}$/,RW:/^(00){0,1}(250){1}\d{6,15}$/,RO:/^(00){0,1}(40){1}\d{6,12}$/,MG:/^(00){0,1}(261){1}\d{6,15}$/,MV:/^(00){0,1}(960){1}\d{6,12}$/,MW:/^(00){0,1}(265){1}\d{6,15}$/,ML:/^(00){0,1}(223){1}\d{6,15}$/,MU:/^(00){0,1}(230){1}\d{6,15}$/,MR:/^(00){0,1}(222){1}\d{6,15}$/,MN:/^(00){0,1}(976){1}\d{6,12}$/,MD:/^(00){0,1}(373){1}\d{6,15}$/,MA:/^(00){0,1}(212){1}\d{6,12}$/,MZ:/^(00){0,1}(258){1}\d{6,15}$/,MX:/^(00){0,1}(52){1}\d{6,12}$/,NA:/^(00){0,1}(264){1}\d{6,15}$/,ZA:/^(00){0,1}(27){1}\d{6,12}$/,NI:/^(00){0,1}(505){1}\d{6,15}$/,NE:/^(00){0,1}(227){1}\d{6,15}$/,NG:/^(00){0,1}(234){1}\d{6,12}$/,NO:/^(00){0,1}(47){1}\d{6,12}$/,PT:/^(00){0,1}(351){1}\d{6,12}$/,SE:/^(00){0,1}(46){1}[124-7](\d{8}|\d{10}|\d{12})$/,CH:/^(00){0,1}(41){1}\d{6,12}$/,SV:/^(00){0,1}(503){1}\d{6,15}$/,RS:/^(00){0,1}(381){1}\d{6,12}$/,SL:/^(00){0,1}(232){1}\d{6,15}$/,SN:/^(00){0,1}(221){1}\d{6,15}$/,CY:/^(00){0,1}(357){1}\d{6,15}$/,SC:/^(00){0,1}(248){1}\d{6,12}$/,SA:/^(00){0,1}(966){1}\d{6,12}$/,LK:/^(00){0,1}(94){1}\d{6,12}$/,SK:/^(00){0,1}(421){1}\d{6,15}$/,SI:/^(00){0,1}(386){1}\d{6,15}$/,SZ:/^(00){0,1}(268){1}\d{6,15}$/,SR:/^(00){0,1}(597){1}\d{6,15}$/,TJ:/^(00){0,1}(992){1}\d{6,15}$/,TH:/^(00){0,1}(66){1}[13456789]\d{7,8}$/,TZ:/^(00){0,1}(255){1}\d{6,15}$/,TT:/^(00){0,1}(1868){1}\d{6,15}$/,TR:/^(00){0,1}(90){1}\d{6,12}$/,TM:/^(00){0,1}(993){1}\d{6,15}$/,TN:/^(00){0,1}(216){1}\d{6,12}$/,GT:/^(00){0,1}(502){1}\d{6,15}$/,VE:/^(00){0,1}(58){1}\d{6,12}$/,BN:/^(00){0,1}(673){1}\d{6,15}$/,UG:/^(00){0,1}(256){1}\d{6,15}$/,UA:/^(00){0,1}(380){1}[3-79]\d{8,9}$/,UY:/^(00){0,1}(598){1}\d{6,15}$/,UZ:/^(00){0,1}(998){1}\d{6,15}$/,ES:/^(00){0,1}(34){1}\d{6,12}$/,GR:/^(00){0,1}(30){1}\d{6,12}$/,HU:/^(00){0,1}(36){1}\d{6,12}$/,JM:/^(00){0,1}(1876){1}\d{6,15}$/,YE:/^(00){0,1}(967){1}\d{6,15}$/,IT:/^(00){0,1}(39){1}[37]\d{8,11}$/,IL:/^(00){0,1}(972){1}\d{6,12}$/,IN:/^(00){0,1}(91){1}\d{6,12}$/,ID:/^(00){0,1}(62){1}[2-9]\d{7,11}$/,GB:/^(00){0,1}(44){1}[347-9](\d{8,9}|\d{11,12})$/,VG:/^(00){0,1}(1284){1}\d{6,12}$/,JO:/^(00){0,1}(962){1}\d{6,12}$/,VN:/^(00){0,1}(84){1}[1-9]\d{6,9}$/,ZM:/^(00){0,1}(260){1}\d{6,15}$/,TD:/^(00){0,1}(235){1}\d{6,15}$/,CL:/^(00){0,1}(56){1}\d{6,12}$/};

    var email = $('#email'),
        suggestion = $('#email_suggestion'),
        email_value = '',
        e_name = '',
        e_domain = '',
        e_tip_on = 0,
        passwd_reg = /^[\u4e00-\u9fa5]/,

        email_list = new Array('163.com','126.com', '139.com', '188.com', '2008.china.com', '2008.sina.com', '21cn.com', '263.net', 'china.com', 'chinaren.com', 'citiz.net', 'eyou.com', 'foxmail.com', 'gmail.com', 'hongkong.com', 'hotmail.com', 'live.cn', 'live.com', 'mail.china.com', 'msn.com', 'my3ia.sina.com', 'qq.com', 'sina.cn', 'sina.com', 'sina.com.cn', 'sogou.com', 'sohu.com', 'vip.163.com', 'vip.qq.com', 'vip.sina.com', 'vip.sohu.com', 'vip.tom.com', 'yahoo.cn', 'yahoo.com', 'yahoo.com.cn', 'yahoo.com.hk', 'yahoo.com.tw', 'yeah.net'),
        phone_reg = REG['CN'],

        TXT_CAPTCHA_NULL = '请输入验证码',
        TXT_CAPTCHA_ERROR = '请输入正确的验证码',
        error_info = $('#frm_error').text();

        if ( error_info === TXT_CAPTCHA_NULL || error_info === TXT_CAPTCHA_ERROR ) {
            $('#frm_error').show();
        } else {
            $('<div></div>').text(error_info).addClass('item-error').insertAfter('.captcha-item').show();
            $('#frm_error').remove();
        }

    function DPA(s1, s2){
        var m = new Array();
        var i, j;
        for(i=0; i < s1.length + 1; i++) m[i] = new Array(); // i.e. 2-D array

        m[0][0] = 0; // boundary conditions

        for(j=1; j <= s2.length; j++)
            m[0][j] = m[0][j-1]-0 + 1; // boundary conditions

        for(i=1; i <= s1.length; i++)                            // outer loop
        {
            m[i][0] = m[i-1][0]-0 + 1; // boundary conditions

            for(j=1; j <= s2.length; j++)                         // inner loop
            {
                var diag = m[i-1][j-1];
                if( s1.charAt(i-1) != s2.charAt(j-1) ) diag++;

                m[i][j] = Math.min( diag,               // match or change
                Math.min( m[i-1][j]-0 + 1,    // deletion
                m[i][j-1]-0 + 1 ) ); // insertion
            }//for j
        }//for i
       return m[s1.length][s2.length];
    };

    function get_like(s){
        r = 0;
        v = s.split('@');
        if ( v.length <=1 ) return;
        domain = v[1];
        e_name = v[0];
        dis = domain.length;
        for (k=0; k < email_list.length; k++){
            e = email_list[k];
            d = DPA(domain, e);
            if (d < dis){
                dis = d;
                e_domain = e;
            }
        }
        if(dis && dis < 4){
            r = 1;
        }
        return r;
    };

    function email_suggestion(like){
        s = email.attr('value');
        if (!( s && s.length > 2 )) {
            return;
        }
        if (like && get_like(s)){
            as = ' <a id="yes_but" href="#">是</a>／<a href="#" id="no_but">不是</a>';
            suggestion.html( '<p><span>你是否要输入' + e_name + '@</span>' + e_domain + as + '</p>' );
            $("#yes_but").focus();
            e_tip_on = 1;
        }

        email_value = email.attr('value');
        return r;
    };

    $('#email').focusout(function() {
        var e = $(this).parents('.item').hasClass('has-error');
        if ( !e ) {
            email_suggestion(1);
        }
    });

    $('body').delegate('#yes_but', 'click', function(e) {
        e.preventDefault();
        email.attr('value', e_name + '@' + e_domain);
        email.focus();
        suggestion.html( '' );
        e_tip_on = 0;
    });
    $('body').delegate('#no_but', 'click', function(e) {
        e.preventDefault();
        suggestion.html( '' );
        e_tip_on = 0;
    });
    var optionMsg = {
        email: '用来登录豆瓣，接收到激活邮件才能完成注册',
        password: '至少包含字母和数字，最短8个字符，区分大小写',
        name: '中、英文均可，最长14个英文或7个汉字',
        loc: ''
    },
    validateError = {
        email: {
            isNull: 'Email不能为空',
            invalidFormat: 'Email格式不正确',
            //unavailable: '',
            unableForTom: '目前暂时不支持使用 tom.com 邮箱注册豆瓣帐号',
            unableForChongseo: '目前暂时不支持使用 chongseo.cn 邮箱注册豆瓣帐号'
        },
        password: {
            isNull: '密码不能为空',
            isShort: '密码长度不足8个字符',
            invalidFormat: '请使用英文字母、符号或数字',
            invalidStrong: '密码强度不够，请包含字母和数字'
        },
        location: {
            isNull: '常居地不能为空'
        },
        name: {
            isNull: '名号不能为空',
            isLong: '名号长度不能超过14个英文或7个汉字'
        },
        verify_phone: {
            isNull: '手机号码不能为空',
            invalidFormat: '手机号码格式不正确'
        },
        captcha: {
            isNull: '验证码不能为空'
        },
        code: {
            isNull: '验证码不能为空'
        }
    },
    validateRules = {
        email: {
            elems: 'input[name=email]',
            isNull: function(el) {
                return !$.trim(el.val());
            },
            invalidFormat: function(el) {
                  return !$.validate.isEmail($.trim(el.val()));
            },
            /*unavailable: function(el,o) {
                var item = el.parents('.item');
                o.asyncValidate(el,
                '/accounts/j/register/is_registered?email=' + $.trim(el.val()),
                function(j){
                    if (j.ok){
                        el.val(s);
                        o.displayError(el, '该Email已经注册过');
                        item.addClass('has-error');
                    }
                });
            },*/
            unableForTom: function(el,o) {
                var domain = el.val().split('@')[1];
                return domain == 'tom.com';
            },
            unableForChongseo: function(el,o) {
                var domain = el.val().split('@')[1];
                return domain == 'chongseo.cn';
            }

        },
        password: {
            elems: 'input[name=password]',
            isNull: function(el) {
                if ( el.val() === '' ) return true;
            },
            isShort: function(el) {
                if ( el.val() !='' && el.val().length < 8 ) {
                    return true;
                }
            },
            invalidFormat: function(el) {
                var s = $.trim(el.val());
                return passwd_reg.test(s);
            },
            invalidStrong: function(el) {
                var s = $.trim(el.val());
                if (!(/\d/.test(s))){
                    return true;
                }
                if (!(/[a-zA-Z\~\)\!\$\%\*\(\_\+\-\=\{\}\[\]\|\:\;\<\>\?\,\.\/\@\#\^\"\'\`\?\&]/.test(s)))
                {
                    return true;
                }
            }
        },
        name: {
            elems: 'input[name=name]',
            isNull: function(el) {
                return !$.trim(el.val());
            },
            isLong: function(el) {
                return $.trim(el.val()).replace(/[^\x00-\xff]/g, '豆瓣').length <= 14 ? false : true;
            }
        },
        location: {
            elems: 'input[name=loc]',
            isNull: function(el) {
                return !$.trim(el.val());
            }
        },
        captcha: {
            elems: 'input[name=captcha-solution]',
            isNull: function(el) {
                return !$.trim(el.val());
            }
        }
    };
        validateRules.verify_phone = {
            elems: 'input[name=verify_phone]',
            isNull: function(el) {
                return !$.trim(el.val());
            },
            invalidFormat: function(el) {
                var s = $.trim(el.val()).replace('+','');
                phone_reg = REG[$('.js-choose-district').attr('data-abbr')]
                return !(phone_reg.test(s))
            }
        }
        validateRules.code = {
            elems: 'input[name=code]',
            isNull: function(el) {
                return !$.trim(el.val());
            }
        }

    $('form').validateForm(validateRules, validateError, optionMsg, null);


    function checkPassword(r){if(!r)return 0;var e=8;if(r.length<e)return 0;var t=0,n="abcdefghijklmnopqrstuvwxyz",s="01234567890",a="~)!@#$%^&*()_+-={}[]|:;<>?,./";r.length>=10&&(t+=20),r.length>=12&&(t+=20),r.match(/[a-z]/g)&&(t+=20),r.match(/[0-9]/g)&&(t+=20),r.match(/[A-Z]/g)&&(t+=20);for(var i=0;i<a.length;i++)if(r.indexOf(a[i])!=-1){t+=20;break}for(var i=0;i<23;i++){var f=n.substring(i,parseInt(i+3)),h=f.strReverse();r.indexOf(f)==-1&&r.indexOf(h)==-1||(t-=20),f=n.toUpperCase().substring(i,parseInt(i+3)),h=f.strReverse(),r.indexOf(f)==-1&&r.indexOf(h)==-1||(t-=20)}for(var i=0;i<8;i++){var f=s.substring(i,parseInt(i+3)),h=f.strReverse();r.indexOf(f)==-1&&r.toLowerCase().indexOf(h)==-1||(t-=20)}return Math.max(t,0)}String.prototype.strReverse=function(){for(var r="",e=0;e<this.length;e++)r=this.charAt(e)+r;return r};

    var delayKey,
    displayPasswdMeter = function(n, item) {
      var s,  node = item.find('.validate-meter');

      if (n < 60) {
        s = '弱';
      } else if (n < 80) {
        s = '一般';
      } else {
        s = '强';
      }

      item.find('.validate-option, .validate-error').hide();

      if (node.length === 0) {
        node = $('<span class="validate-meter"></span>').appendTo(item);
      }

      node.show().text('密码强度：' + s);
    };

    $('#password').bind({
      focus: function() {
        var el = $(this),
        item = el.parent();

        if (item.find('.validate-error').css('display') === 'inline') {
          return;
        }

        if (el.val().length >= 8) {
          item.find('.validate-option').hide();
        }
      },

      blur: function() {
        var el = $(this),
        item = el.parent(),
        error = item.find('.validate-error');

        if (error.css('display') === 'inline') {
          item.find('.validate-meter').hide();
          return;
        }
      },

      keyup: function(e) {
        var el = this;
        if (this.value.length < 8) {
          return;
        }
        delayKey && clearTimeout(delayKey);
        delayKey = setTimeout(function(){
          displayPasswdMeter(checkPassword(el.value), $(el).parent());
        }, 10);
      }
   });

   $('div.agreement-new').one('click', 'a.btn', function(e) {
        e.preventDefault();
        $('div.agreement-new').hide();
   }).on('click', 'a.agreement-close', function() {
        window.location.href = 'https://www.douban.com'
   });
});

</script>


<style type="text/css">
/* for pop dialog */
.loading { font-size: 14px; margin: 12px; color: #888; background-position: left center; padding: 0 0 0 20px; float: none; width: auto; height: auto }
#l_tabs li { display: inline-block; padding: 0px 12px }
#l_tabs li { *display: inline }
.selected { background: #93b77b;  border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; color: #ffffff }
.selected a, .selected a:link { color: #fff!important; background: none; cursor: default; }
.panel ul { border-top: 1px solid #cccccc; padding: 12px 0 0 12px; margin: 10px 0 }
.panel a { font-size: 14px }
.panel ul li { display: inline-block; padding: 0 3px ; margin-right: 15px }
.panel ul li { *display: inline }
.off { display: none }
.panel li.on , .panel li.off { margin-right: 8px }
.panel li.on a , .panel li.off a { font-size: 12px; line-height: 15px }
.expand , .contract { margin: 0; text-align: right; padding-right: 10px }
.panel .expand a , .panel .contract a { font-size: 12px }
.panel .expand { background: url(https://img3.doubanio.com/f/shire/479b9d6dcc35cd548d9cd1a2d826f23213f5868c/pics/icon/tongcheng_tab_down.gif) no-repeat right 2px }
.panel .contract { background: url(https://img3.doubanio.com/f/shire/0badd8bb59652acb2f2823388150bdf1c02502f8/pics/icon/tongcheng_tab_up.gif) no-repeat right 2px }
</style>

<script>
;(function(){
Do.add('dialog-css',{path: 'https://img3.doubanio.com/f/accounts/da76d5df52b4cb99cc31d3a9ec79f2916ec8f66b/css/ui/dialog.css',type:'css'});
Do.add('dialog',{path: 'https://img3.doubanio.com/f/accounts/0d89968f657dd00590944957e19a943e13ecb266/js/ui/dialog.js',type:'js',requires:['dialog-css']});
Do('dialog',function(){
var where = 'register';
function getLocations(t){var e=t.attr("id"),a=$.trim(e).substring($.trim(e).indexOf("_")+1),i="/j/location/"+a+"/",l="p_"+a,n=$("<div></div>").insertAfter(t.parent().parent()).attr("id",l),d=$("<ul></ul>").appendTo(n).wrapAll("<div></div>");d.parent().addClass("panel"),$.getJSON(i,function(t){if($("#l_tabs").nextAll(".loading").hide(),$.each(t.locations,function(t,e){var a=$('<a href="#"></a>');e.habitable?a.addClass("habitable"):a.addClass("unhabitable"),a.text(e.name).attr({id:e.id,title:e.population+"人"}).appendTo(d).wrapAll("<li></li>"),e.population<=100&&a.parent().hide().addClass("off")}),$("<li></li>").css({display:"block",height:"10px"}).insertBefore(d.children("li.off:first")),d.children(".off").length){var e=$("<p></p>").addClass("expand");e.appendTo(d),$("<a></a>").appendTo(e).text("更多")}dlg.updateSize(),dlg.updatePosition()})}function getChildren(t){var e=t.attr("id"),a=$.trim(e).substring($.trim(e).indexOf("_")+1),i="/j/location/"+a+"/",l="p_"+a,n=$("<div></div>").insertAfter(t.parent().parent()).attr("id",l),d=$("<ul></ul>").appendTo(n).wrapAll("<div></div>");d.parent().addClass("panel"),$.getJSON(i,function(t){$("#l_tabs").nextAll(".loading").hide(),$.each(t.locations,function(t,e){return e.has_child?void $.each(e.children,function(t,e){var a=$('<a href="#"></a>');e.habitable?a.addClass("habitable"):a.addClass("unhabitable"),a.text(e.name).attr({id:e.id,title:e.population+"人"}).appendTo(d).wrapAll("<li></li>")}):(alert("此地区不能作为常居地，请选择其他城市"),n.remove(),!1)}),dlg.updateSize(),dlg.updatePosition()})}var dlg=dui.Dialog();dlg.set({title:"选择你的常居地",url:"/j/misc/location_form",width:/device-mobile/i.test(document.documentElement.className)?.9*document.documentElement.offsetWidth:560,cache:!0,callback:function(t,e){$(".selected .loc-type").each(function(){getLocations($(this))}),$("body").delegate("a.habitable","click",function(t){t.preventDefault(),"register"==where?($("#l_tabs").nextAll(".loading").show(),$("input[name='loc']").val($(this).attr("id")),$("em#location").html("<strong>"+$(this).text()+"</strong>"),$("em#location").next().html("重新选择"),e.close(),$(".loc-item .validate-error").hide()):$.post("/j/location/move",{loc:$(this).attr("id"),ck:get_cookie("ck")},function(t){t.r?(e.close(),window.location.reload()):alert("请求失败，请重试。")})}),$("body").delegate("a.unhabitable, a.loc-type","click",function(t){t.preventDefault();var e=$.trim($(this).attr("id")).substring($.trim($(this).attr("id")).indexOf("_")+1),a="#p_"+e;$("#l_tabs").nextAll(".loading").show(),$(this).hasClass("unhabitable")&&getChildren($(this)),$(this).hasClass("loc-type")&&getLocations($(this)),$(this).parent().siblings("li.selected").removeClass("selected"),$(this).parent().addClass("selected"),$(a).siblings("div").remove(),dlg.updateSize(),dlg.updatePosition()})}}),$("body").delegate("p.expand a","click",function(t){t.preventDefault(),$("li.off").show().addClass("on").removeClass("off"),$(this).text("收起").parent().removeClass("expand").addClass("contract"),dlg.updateSize(),dlg.updatePosition()}),$("body").delegate("p.contract a","click",function(t){t.preventDefault(),$("li.on").hide().addClass("off").removeClass("on"),$(this).text("更多").parent().removeClass("contract").addClass("expand"),dlg.updateSize(),dlg.updatePosition()}),$("#edloc,#btnLocation").click(function(t){t.preventDefault(),$(".loading").hide(),dlg.open(),dlg.updateSize(),dlg.updatePosition()});
});
})();
</script>


  </body>
</html>













